{
    "chat.tools.terminal.autoApprove": {
        "/^cd \"F:\\\\cojag hackthon\" ; python -c \"\nimport cv2, numpy as np\nimg = cv2\\.imread\\('media/uploads/99afdcb78d5a437494e0b48b90376401\\.jpeg'\\)\nh,w = img\\.shape\\[:2\\]\nscale = 1024/max\\(h,w\\)\nsmall = cv2\\.resize\\(img, None, fx=scale, fy=scale\\)\nsh,sw = small\\.shape\\[:2\\]\nhsv = cv2\\.cvtColor\\(small, cv2\\.COLOR_BGR2HSV\\)\nmask = cv2\\.inRange\\(hsv, np\\.array\\(\\[25,30,25\\]\\), np\\.array\\(\\[90,255,250\\]\\)\\)\n# Close to fill leaf gaps\nk = cv2\\.getStructuringElement\\(cv2\\.MORPH_ELLIPSE,\\(11,11\\)\\)\nmask = cv2\\.morphologyEx\\(mask, cv2\\.MORPH_CLOSE, k, iterations=2\\)\n# Erode to separate canopies  \nk2 = cv2\\.getStructuringElement\\(cv2\\.MORPH_ELLIPSE,\\(15,15\\)\\)\nmask = cv2\\.morphologyEx\\(mask, cv2\\.MORPH_ERODE, k2, iterations=1\\)\n# Open to clean\nk3 = cv2\\.getStructuringElement\\(cv2\\.MORPH_ELLIPSE,\\(9,9\\)\\)\nmask = cv2\\.morphologyEx\\(mask, cv2\\.MORPH_OPEN, k3, iterations=1\\)\ncnts,_ = cv2\\.findContours\\(mask, cv2\\.RETR_EXTERNAL, cv2\\.CHAIN_APPROX_SIMPLE\\)\ninv = 1\\.0/scale\nmin_area = sh\\*sw\\*0\\.003\nmax_area = sh\\*sw\\*0\\.30\nresults = \\[\\]\nfor c in cnts:\n    a = cv2\\.contourArea\\(c\\)\n    if a < min_area: continue\n    x,y,bw,bh = cv2\\.boundingRect\\(c\\)\n    if a > max_area:\n        # grid split\n        for r in range\\(2\\):\n            for co in range\\(2\\):\n                sx=x\\+co\\*\\(bw//2\\); sy=y\\+r\\*\\(bh//2\\)\n                ex=sx\\+bw//2; ey=sy\\+bh//2\n                results\\.append\\(\\(int\\(sx\\*inv\\),int\\(sy\\*inv\\),int\\(ex\\*inv\\),int\\(ey\\*inv\\)\\)\\)\n    else:\n        results\\.append\\(\\(int\\(x\\*inv\\),int\\(y\\*inv\\),int\\(\\(x\\+bw\\)\\*inv\\),int\\(\\(y\\+bh\\)\\*inv\\)\\)\\)\nprint\\(f'Contours: \\{len\\(cnts\\)\\}, After filtering: \\{len\\(results\\)\\}'\\)\nfor i,\\(x1,y1,x2,y2\\) in enumerate\\(results\\[:10\\]\\):\n    pct = \\(x2-x1\\)\\*\\(y2-y1\\)/\\(h\\*w\\)\\*100\n    print\\(f'  #\\{i\\+1\\}: \\(\\{x1\\},\\{y1\\}\\)-\\(\\{x2\\},\\{y2\\}\\) = \\{pct:\\.1f\\}% of image'\\)\n\"$/": {
            "approve": true,
            "matchCommandLine": true
        }
    }
}